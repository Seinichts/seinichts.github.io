<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/Seinichts/seinichts.github.io/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=Seinichts/seinichts.github.io/livereload" data-no-instant defer></script>
  <title>My Doom Configuration :: Zelong Blog - Example site for hugo-theme-tailwind</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Doom modules Modules Doom has this lovely modular configuration base that takes a lot of work out of configuring Emacs. Each module (when enabled) can provide a list of packages to install (on doom sync) and configuration to be applied. The modules can also have flags applied to tweak their behaviour.
;;; init.el -*- lexical-binding: t; -*- ;; This file controls what Doom modules are enabled and what order they load in."
/>
<meta
  name="keywords"
  content="hugo, tailwind, tailwindcss, hugo theme, hugo theme tailwind"
/>
<meta name="robots" content="noodp" /><link rel="manifest" href="/manifest.json" /><meta property="og:url" content="http://localhost:1313/Seinichts/seinichts.github.io/posts/config/">
  <meta property="og:site_name" content="Zelong Blog">
  <meta property="og:title" content="My Doom Configuration">
  <meta property="og:description" content="Doom modules Modules Doom has this lovely modular configuration base that takes a lot of work out of configuring Emacs. Each module (when enabled) can provide a list of packages to install (on doom sync) and configuration to be applied. The modules can also have flags applied to tweak their behaviour.
;;; init.el -*- lexical-binding: t; -*- ;; This file controls what Doom modules are enabled and what order they load in.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="My Doom Configuration">
  <meta name="twitter:description" content="Doom modules Modules Doom has this lovely modular configuration base that takes a lot of work out of configuring Emacs. Each module (when enabled) can provide a list of packages to install (on doom sync) and configuration to be applied. The modules can also have flags applied to tweak their behaviour.
;;; init.el -*- lexical-binding: t; -*- ;; This file controls what Doom modules are enabled and what order they load in.">


<link rel="canonical" href="http://localhost:1313/Seinichts/seinichts.github.io/posts/config/" />

<link rel="shortcut icon" href="/Seinichts/seinichts.github.io/favicon.ico" />
<link rel="stylesheet" href="/Seinichts/seinichts.github.io/css/index.4573e47dcfff49700db206601116cd2f48db1912c244b1d0b312713d4ca4a32e.css">





  






  
  

</head>
<body class="flex flex-col min-h-screen w-full bg-slate-50 dark:bg-gray-800">
    
<div class="fixed right-0 top-0 z-50 flex items-center justify-center bg-gray-200 p-2 text-sm uppercase text-black sm:bg-red-200 md:bg-yellow-200 lg:bg-green-200 xl:bg-blue-200 2xl:bg-pink-200">
  <span class="block sm:hidden">all</span>
  <span class="hidden sm:block md:hidden">sm</span>
  <span class="hidden md:block lg:hidden">md</span>
  <span class="hidden lg:block xl:hidden">lg</span>
  <span class="hidden xl:block 2xl:hidden">xl</span>
  <span class="hidden 2xl:block">2xl</span>
</div>

  <header class="flex flex-none justify-center z-10">
    <div class="flex flex-row gap justify-between w-full max-w-4xl lg:max-w-5xl h-12 mt-3">
  <div class="flex-none ml-2 md:ml-0">
    <a href="/Seinichts/seinichts.github.io/" class="">
      <img class="h-12 w-12 rounded-full object-cover bg-gray-100" src="https://placehold.co/512/webp" alt="logo">
    </a>
  </div>
  <div class="flex-1"></div>
  <div class="flex-none">
    




  </div>
  
  <div class="flex-none mx-1"></div>
  
  <div class="flex-none md:hidden">
    <a href=/Seinichts/seinichts.github.io/search/ class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg" aria-controls="navbar-menu" aria-expanded="false">
      <span class="sr-only">Search</span>
      <i class="w-8 h-8">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
    <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
    <path d="M21 21l-6 -6" />
</svg>

      </i>
    </a>
  </div>
  <div class="darkmode-toggle flex flex-none mr-2 md:mr-0">
    <label for="darkmode-toggle" class="flex items-center px-3 cursor-pointer rounded-full bg-gray-100 dark:bg-gray-600" title="Toggle dark mode">
      <input name="darkmode-toggle" id="darkmode-toggle" type="checkbox" class="sr-only peer" aria-label="Toggle dark mode">
      <div class="group flex flex-row gap-1 justify-center h-8 px-1 rounded-full bg-white dark:bg-gray-700">
        <i class="h-6 w-6 flex-none rounded-full bg-yellow-400 place-self-center peer-checked:group-[]:invisible">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brightness-down" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
   <path d="M12 5l0 .01"></path>
   <path d="M17 7l0 .01"></path>
   <path d="M19 12l0 .01"></path>
   <path d="M17 17l0 .01"></path>
   <path d="M12 19l0 .01"></path>
   <path d="M7 17l0 .01"></path>
   <path d="M5 12l0 .01"></path>
   <path d="M7 7l0 .01"></path>
</svg>

        </i>
        <i class="h-6 w-6 flex-none rounded-full place-self-center invisible peer-checked:group-[]:visible">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon-stars" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
   <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
   <path d="M19 11h2m-1 -1v2"></path>
</svg>

        </i>
      </div>
    </label>
  </div>
</div>

  </header>
  <main class="flex flex-auto justify-center">
    
<div class="w-full max-w-4xl lg:max-w-5xl">
  <div class="flex flex-col mt-6 mx-2 md:mx-0 rounded-lg overflow-hidden shadow-md bg-white dark:bg-gray-700">
    <div>
      <a href="/Seinichts/seinichts.github.io/posts/config/">
        
      </a>
    </div>
    <div class="flex flex-col gap-y-3 p-6">
      <h1 class="text-4xl font-semibold text-slate-800 dark:text-slate-100">
        <a href="/Seinichts/seinichts.github.io/posts/config/">My Doom Configuration</a>
      </h1>

      
      


      <div class="flex flex-col gap-y-1 md:flex-row md:gap-y-0 md:gap-x-4 text-slate-500 dark:text-slate-300">
  <div class="flex flex-row text-base gap-x-1">
    <i class="h-6 w-6 flex-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hourglass-high" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M6.5 7h11"></path>
   <path d="M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z"></path>
   <path d="M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z"></path>
</svg>

    </i>
    <span>
      21 minutes to read
    </span>
  </div>
</div>


      
        
        <section class="prose prose-slate dark:prose-invert w-full max-w-4xl lg:max-w-5xl mt-6">
          <h2>Table of Contents</h2>
          <aside><nav id="TableOfContents">
  <ul>
    <li><a href="#doom-modules">Doom modules</a>
      <ul>
        <li><a href="#modules">Modules</a></li>
        <li><a href="#disabled">Disabled</a></li>
      </ul>
    </li>
    <li><a href="#appearance">Appearance</a>
      <ul>
        <li><a href="#fonts">Fonts</a></li>
        <li><a href="#theme">Theme</a></li>
        <li><a href="#line-numbers">Line numbers</a></li>
        <li><a href="#set-default-frame-size">Set default frame size</a></li>
      </ul>
    </li>
    <li><a href="#lang">Lang</a>
      <ul>
        <li><a href="#latex">Latex</a></li>
        <li><a href="#org">Org</a></li>
        <li><a href="#sagemath">SageMath</a></li>
      </ul>
    </li>
    <li><a href="#edit">Edit</a>
      <ul>
        <li><a href="#yasnippet-auto-expand">Yasnippet auto-expand</a></li>
        <li><a href="#file-templates-dir">File-templates dir</a></li>
      </ul>
    </li>
    <li><a href="#programming">Programming</a>
      <ul>
        <li><a href="#vterm">vterm</a></li>
        <li><a href="#quickrun">Quickrun</a></li>
        <li><a href="#tabnine">Tabnine</a></li>
        <li><a href="#stick-scroll">Stick scroll</a></li>
      </ul>
    </li>
  </ul>
</nav></aside>
        </section>
        
      

      <article class="mt-6 w-full max-w-4xl lg:max-w-5xl prose prose-slate dark:prose-invert prose-quoteless post-content">
        <h2 id="doom-modules">Doom modules</h2>
<h3 id="modules">Modules</h3>
<p>Doom has this lovely <em>modular configuration base</em> that takes a lot of work out of
configuring Emacs. Each module (when enabled) can provide a list of packages to
install (on <code>doom sync</code>) and configuration to be applied. The modules can also
have flags applied to tweak their behaviour.</p>
<p><a id="code-snippet--init.el"></a></p>
<div class="highlight" collapsed="t"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;;; init.el -*- lexical-binding: t; -*-</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; This file controls what Doom modules are enabled and what order they load in.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Press &#39;K&#39; on a module to view its documentation, and &#39;gd&#39; to browse its directory.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(doom! :input
</span></span><span style="display:flex;"><span>&lt;&lt;doom-input&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:completion
</span></span><span style="display:flex;"><span>&lt;&lt;doom-completion&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:ui
</span></span><span style="display:flex;"><span>&lt;&lt;doom-ui&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:editor
</span></span><span style="display:flex;"><span>&lt;&lt;doom-editor&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:emacs
</span></span><span style="display:flex;"><span>&lt;&lt;doom-emacs&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:term
</span></span><span style="display:flex;"><span>&lt;&lt;doom-term&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:checkers
</span></span><span style="display:flex;"><span>&lt;&lt;doom-checkers&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:tools
</span></span><span style="display:flex;"><span>&lt;&lt;doom-tools&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:os
</span></span><span style="display:flex;"><span>&lt;&lt;doom-os&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:lang
</span></span><span style="display:flex;"><span>&lt;&lt;doom-lang&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:email
</span></span><span style="display:flex;"><span>&lt;&lt;doom-email&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:app
</span></span><span style="display:flex;"><span>&lt;&lt;doom-app&gt;&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:config
</span></span><span style="display:flex;"><span>&lt;&lt;doom-config&gt;&gt;
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><h4 id="structure">Structure</h4>
<p>As you may have noticed by this point, this is a <a href="https://en.wikipedia.org/wiki/Literate_programming" target="_blank" rel="noopener">literate</a>
 configuration. Doom
has good support for this which we access though the <code>literate</code> module.</p>
<p>While we&rsquo;re in the <span class="inline-src language-elisp" data-lang="elisp"><code>:config</code></span> section, we&rsquo;ll use Dooms nicer defaults,
along with the bindings and smartparens behaviour (the flags aren&rsquo;t documented,
but they exist).</p>
<p><a id="code-snippet--doom-config"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>literate
</span></span><span style="display:flex;"><span>(default +bindings +smartparens)
</span></span></code></pre></div><h4 id="interface">Interface</h4>
<p>There&rsquo;s a lot that can be done to enhance Emacs&rsquo; capabilities.
I reckon enabling half the modules Doom provides should do it.</p>
<p><a id="code-snippet--doom-completion"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;; (company                   ; the ultimate code completion backend</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;  +childframe)</span>
</span></span><span style="display:flex;"><span>(corfu +icons +orderless +dabbrev)  <span style="color:#75715e">; complete with cap(f), cape and a flying feather!</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;helm                       ; the *other* search engine for love and life</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;ido                        ; the other *other* search engine...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (ivy                      ; a search engine for love and life</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;  +icons                   ; ... icons are nice</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;  +prescient)              ; ... I know what I want(ed)</span>
</span></span><span style="display:flex;"><span>(vertico +icons)             <span style="color:#75715e">; the search engine of the future</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-ui"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;;deft                       ; notational velocity for Emacs</span>
</span></span><span style="display:flex;"><span>doom                         <span style="color:#75715e">; what makes DOOM look the way it does</span>
</span></span><span style="display:flex;"><span>doom-dashboard               <span style="color:#75715e">; a nifty splash screen for Emacs</span>
</span></span><span style="display:flex;"><span>doom-quit                    <span style="color:#75715e">; DOOM quit-message prompts when you quit Emacs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (emoji +unicode)          ; 🙂</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;fill-column                ; a `fill-column&#39; indicator</span>
</span></span><span style="display:flex;"><span>hl-todo                      <span style="color:#75715e">; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;hydra                      ; quick documentation for related commands</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; indent-guides              ; highlighted indent columns, notoriously slow</span>
</span></span><span style="display:flex;"><span>ligatures           <span style="color:#75715e">; ligatures and symbols to make your code pretty again</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;minimap                    ; show a map of the code on the side</span>
</span></span><span style="display:flex;"><span>modeline                     <span style="color:#75715e">; snazzy, Atom-inspired modeline, plus API</span>
</span></span><span style="display:flex;"><span>nav-flash                    <span style="color:#75715e">; blink the current line after jumping</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;neotree                    ; a project drawer, like NERDTree for vim</span>
</span></span><span style="display:flex;"><span>ophints                      <span style="color:#75715e">; highlight the region an operation acts on</span>
</span></span><span style="display:flex;"><span>(popup                       <span style="color:#75715e">; tame sudden yet inevitable temporary windows</span>
</span></span><span style="display:flex;"><span> +all                        <span style="color:#75715e">; catch all popups that start with an asterix</span>
</span></span><span style="display:flex;"><span> +defaults)                  <span style="color:#75715e">; default popup rules</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (tabs                      ; an tab bar for Emacs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;  +centaur-tabs)           ; ... with prettier tabs</span>
</span></span><span style="display:flex;"><span>treemacs                     <span style="color:#75715e">; a project drawer, like neotree but cooler</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; unicode                    ; extended unicode support for various languages</span>
</span></span><span style="display:flex;"><span>(vc-gutter +pretty)          <span style="color:#75715e">; vcs diff in the fringe</span>
</span></span><span style="display:flex;"><span>vi-tilde-fringe              <span style="color:#75715e">; fringe tildes to mark beyond EOB</span>
</span></span><span style="display:flex;"><span>(window-select +numbers)     <span style="color:#75715e">; visually switch windows</span>
</span></span><span style="display:flex;"><span>workspaces                   <span style="color:#75715e">; tab emulation, persistence &amp; separate workspaces</span>
</span></span><span style="display:flex;"><span>zen                          <span style="color:#75715e">; distraction-free coding or writing</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-editor"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(evil +everywhere)           <span style="color:#75715e">; come to the dark side, we have cookies</span>
</span></span><span style="display:flex;"><span>file-templates               <span style="color:#75715e">; auto-snippets for empty files</span>
</span></span><span style="display:flex;"><span>fold                         <span style="color:#75715e">; (nigh) universal code folding</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">format</span> +onsave)                     <span style="color:#75715e">; automated prettiness</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;god                        ; run Emacs commands without modifier keys</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;lispy                      ; vim for lisp, for people who don&#39;t like vim</span>
</span></span><span style="display:flex;"><span>multiple-cursors             <span style="color:#75715e">; editing in many places at once</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;objed                      ; text object editing for the innocent</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;parinfer                   ; turn lisp into python, sort of</span>
</span></span><span style="display:flex;"><span>rotate-text                  <span style="color:#75715e">; cycle region at point between text candidates</span>
</span></span><span style="display:flex;"><span>snippets                     <span style="color:#75715e">; my elves. They type so I don&#39;t have to</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;word-wrap                  ; soft wrapping with language-aware indent</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-emacs"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(dired +icons)               <span style="color:#75715e">; making dired pretty [functional]</span>
</span></span><span style="display:flex;"><span>electric                     <span style="color:#75715e">; smarter, keyword-based electric-indent</span>
</span></span><span style="display:flex;"><span>(ibuffer +icons)             <span style="color:#75715e">; interactive buffer management</span>
</span></span><span style="display:flex;"><span>undo                         <span style="color:#75715e">; persistent, smarter undo for your inevitable mistakes</span>
</span></span><span style="display:flex;"><span>vc                           <span style="color:#75715e">; version-control and Emacs, sitting in a tree</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-term"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;;eshell                     ; the elisp shell that works everywhere</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;shell                      ; simple shell REPL for Emacs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;term                       ; basic terminal emulator for Emacs</span>
</span></span><span style="display:flex;"><span>vterm                        <span style="color:#75715e">; the best terminal emulation in Emacs</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-checkers"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>syntax                       <span style="color:#75715e">; tasing you for every semicolon you forget</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; spell                     ; tasing you for misspelling mispelling</span>
</span></span><span style="display:flex;"><span>grammar                      <span style="color:#75715e">; tasing grammar mistake every you make</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-tools"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>ansible                      <span style="color:#75715e">; a crucible for infrastructure as code</span>
</span></span><span style="display:flex;"><span>biblio                       <span style="color:#75715e">; Writes a PhD for you (citation needed)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;debugger                   ; FIXME stepping through code, to help you add bugs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;direnv                     ; be direct about your environment</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; docker                       ; port everything to containers</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;editorconfig               ; let someone else argue about tabs vs spaces</span>
</span></span><span style="display:flex;"><span>ein                        <span style="color:#75715e">; tame Jupyter notebooks with emacs</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">eval</span>)              <span style="color:#75715e">; run code, run (also, repls)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;gist                       ; interacting with github gists</span>
</span></span><span style="display:flex;"><span>(lookup                      <span style="color:#75715e">; helps you navigate your code and documentation</span>
</span></span><span style="display:flex;"><span> +dictionary                 <span style="color:#75715e">; dictionary/thesaurus is nice</span>
</span></span><span style="display:flex;"><span> +docsets)                   <span style="color:#75715e">; ...or in Dash docsets locally</span>
</span></span><span style="display:flex;"><span>(lsp                          <span style="color:#75715e">; Language Server Protocol</span>
</span></span><span style="display:flex;"><span> +peek)
</span></span><span style="display:flex;"><span>(magit                       <span style="color:#75715e">; a git porcelain for Emacs</span>
</span></span><span style="display:flex;"><span> +forge)                     <span style="color:#75715e">; interface with git forges</span>
</span></span><span style="display:flex;"><span>make                         <span style="color:#75715e">; run make tasks from Emacs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;pass                       ; password manager for nerds</span>
</span></span><span style="display:flex;"><span>pdf                          <span style="color:#75715e">; pdf enhancements</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;prodigy                    ; FIXME[[id:983f436e-02a1-4d2f-b274-761523d5ff5a][Contratiction?.org]] managing external services &amp; code builders</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; rgb                          ; creating color strings</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;taskrunner                 ; taskrunner for all your projects</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;terraform                  ; infrastructure as code</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;tmux                       ; an API for interacting with tmux</span>
</span></span><span style="display:flex;"><span>tree-sitter                <span style="color:#75715e">; syntax and parsing, sitting in a tree...</span>
</span></span><span style="display:flex;"><span>upload                       <span style="color:#75715e">; map local to remote projects via ssh/ftp</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-os"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>macos                      <span style="color:#75715e">; MacOS-specific commands</span>
</span></span><span style="display:flex;"><span>tty                          <span style="color:#75715e">; improve the terminal Emacs experience</span>
</span></span></code></pre></div><h4 id="language-support">Language support</h4>
<p>We can be rather liberal with enabling support for languages as the associated
packages/configuration are (usually) only loaded when first opening an
associated file.</p>
<p><a id="code-snippet--doom-lang"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;;agda                       ; types of types of types of types...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;beancount                  ; mind the GAAP</span>
</span></span><span style="display:flex;"><span>(cc +lsp +tree-sitter)                  <span style="color:#75715e">; C &gt; C++ == 1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;clojure                    ; java with a lisp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;common-lisp                ; if you&#39;ve seen one lisp, you&#39;ve seen them all</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;coq                        ; proofs-as-programs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;crystal                    ; ruby at the speed of c</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;csharp                     ; unity, .NET, and mono shenanigans</span>
</span></span><span style="display:flex;"><span>data                         <span style="color:#75715e">; config/data formats</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(dart +flutter)            ; paint ui and not much else</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;dhall                      ; JSON with FP sprinkles</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;elixir                     ; erlang done right</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;elm                        ; care for a cup of TEA?</span>
</span></span><span style="display:flex;"><span>emacs-lisp                   <span style="color:#75715e">; drown in parentheses</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;erlang                     ; an elegant language for a more civilized age</span>
</span></span><span style="display:flex;"><span>ess                          <span style="color:#75715e">; emacs speaks statistics</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;faust                      ; dsp, but you get to keep your soul</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;fsharp                     ; ML stands for Microsoft&#39;s Language</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;fstar                      ; (dependent) types and (monadic) effects and Z3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;gdscript                   ; the language you waited for</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(graphql +lsp)             ; Give queries a REST</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (go +lsp)                    ; the hipster dialect</span>
</span></span><span style="display:flex;"><span>(haskell +lsp)             <span style="color:#75715e">; a language that&#39;s lazier than I am</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;hy                         ; readability of scheme w/ speed of python</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;idris                      ;</span>
</span></span><span style="display:flex;"><span>json                         <span style="color:#75715e">; At least it ain&#39;t XML</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(java +lsp)                ; the poster child for carpal tunnel syndrome</span>
</span></span><span style="display:flex;"><span>(javascript +lsp)            <span style="color:#75715e">; all(hope(abandon(ye(who(enter(here))))))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (julia +lsp)                 ; Python, R, and MATLAB in a blender</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;kotlin                     ; a better, slicker Java(Script)</span>
</span></span><span style="display:flex;"><span>(latex                       <span style="color:#75715e">; writing papers in Emacs has never been so fun</span>
</span></span><span style="display:flex;"><span> +latexmk                    <span style="color:#75715e">; what else would you use?</span>
</span></span><span style="display:flex;"><span> +lsp
</span></span><span style="display:flex;"><span> +cdlatex                    <span style="color:#75715e">; quick maths symbols</span>
</span></span><span style="display:flex;"><span> +fold)                      <span style="color:#75715e">; fold the clutter away nicities</span>
</span></span><span style="display:flex;"><span>lean                       <span style="color:#75715e">; proof that mathematicians need help</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;factor                     ; for when scripts are stacked against you</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;ledger                     ; an accounting system in Emacs</span>
</span></span><span style="display:flex;"><span>lua                          <span style="color:#75715e">; one-based indices? one-based indices</span>
</span></span><span style="display:flex;"><span>markdown                     <span style="color:#75715e">; writing docs for people to ignore</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;nim                        ; python + lisp at the speed of c</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; nix                          ; I hereby declare &#34;nix geht mehr!&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;ocaml                      ; an objective camel</span>
</span></span><span style="display:flex;"><span>(org                         <span style="color:#75715e">; organize your plain life in plain text</span>
</span></span><span style="display:flex;"><span> +dragndrop                  <span style="color:#75715e">; drag &amp; drop files/images into org buffers</span>
</span></span><span style="display:flex;"><span> +hugo                     <span style="color:#75715e">; use Emacs for hugo blogging</span>
</span></span><span style="display:flex;"><span> +noter                      <span style="color:#75715e">; enhanced PDF notetaking</span>
</span></span><span style="display:flex;"><span> +jupyter                    <span style="color:#75715e">; ipython/jupyter support for babel</span>
</span></span><span style="display:flex;"><span> +pandoc                     <span style="color:#75715e">; export-with-pandoc support</span>
</span></span><span style="display:flex;"><span> +gnuplot                    <span style="color:#75715e">; who doesn&#39;t like pretty pictures</span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">;; +pomodoro                   ; be fruitful with the tomato technique</span>
</span></span><span style="display:flex;"><span> +journal                    <span style="color:#75715e">; Record your life</span>
</span></span><span style="display:flex;"><span> +present                    <span style="color:#75715e">; using org-mode for presentations</span>
</span></span><span style="display:flex;"><span> +roam2)                     <span style="color:#75715e">; wander around notes</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;php                        ; perl&#39;s insecure younger brother</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;plantuml                   ; diagrams for confusing people more</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;purescript                 ; javascript, but functional</span>
</span></span><span style="display:flex;"><span>(python +lsp +pyright)       <span style="color:#75715e">; beautiful is better than ugly</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;qt                         ; the &#39;cutest&#39; gui framework ever</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;racket                     ; a DSL for DSLs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;raku                       ; the artist formerly known as perl6</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;rest                       ; Emacs as a REST client</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;rst                        ; ReST in peace</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(ruby +rails)              ; 1.step {|i| p &#34;Ruby is #{i.even? ? &#39;love&#39; : &#39;life&#39;}&#34;}</span>
</span></span><span style="display:flex;"><span>(rust +lsp)                  <span style="color:#75715e">; Fe2O3.unwrap().unwrap().unwrap().unwrap()</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;scala                      ; java, but good</span>
</span></span><span style="display:flex;"><span>scheme                       <span style="color:#75715e">; a fully conniving family of lisps</span>
</span></span><span style="display:flex;"><span>sh                           <span style="color:#75715e">; she sells {ba,z,fi}sh shells on the C xor</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;sml                        ; no, the /other/ ML</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;solidity                   ; do you need a blockchain? No.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;swift                      ; who asked for emoji variables?</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;terra                      ; Earth and Moon in alignment for performance.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; web                          ; the tubes</span>
</span></span><span style="display:flex;"><span>yaml                         <span style="color:#75715e">; JSON, but readable</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; zig                          ; C, but simpler</span>
</span></span></code></pre></div><h4 id="input">Input</h4>
<p><a id="code-snippet--doom-input"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;;bidi                       ; (tfel ot) thgir etirw uoy gnipleh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;chinese</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;japanese</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;layout                     ; auie,ctsrnm is the superior home row</span>
</span></span></code></pre></div><h4 id="everything-in-emacs">Everything in Emacs</h4>
<p>It&rsquo;s just too convenient being able to have everything in Emacs.
I couldn&rsquo;t resist the Email and Feed modules.</p>
<p><a id="code-snippet--doom-email"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;; (:if (executable-find &#34;mu&#34;) (mu4e + org))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;notmuch</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(wanderlust +gmail)</span>
</span></span></code></pre></div><p><a id="code-snippet--doom-app"></a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;;calendar                   ; A dated approach to timetabling</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;emms                       ; Multimedia in Emacs is music to my ears</span>
</span></span><span style="display:flex;"><span>everywhere                   <span style="color:#75715e">; *leave* Emacs!? You must be joking.</span>
</span></span><span style="display:flex;"><span>irc                          <span style="color:#75715e">; how neckbeards socialize</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; (rss +org)                   ; emacs as an RSS reader</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;twitter                    ; twitter client https://twitter.com/vnought</span>
</span></span></code></pre></div><h3 id="disabled">Disabled</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;; Disabled packages</span>
</span></span><span style="display:flex;"><span>(package! writegood-mode
</span></span><span style="display:flex;"><span>  :disable <span style="color:#66d9ef">t</span>)
</span></span></code></pre></div><h2 id="appearance">Appearance</h2>
<h3 id="fonts">Fonts</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq doom-font (<span style="color:#a6e22e">font-spec</span> :family <span style="color:#e6db74">&#34;LXGW WenKai Mono&#34;</span> :size <span style="color:#ae81ff">22</span>)
</span></span><span style="display:flex;"><span>      doom-symbol-font (<span style="color:#a6e22e">font-spec</span> :family <span style="color:#e6db74">&#34;JetbrainsMono Nerd Font&#34;</span> :size <span style="color:#ae81ff">22</span>))
</span></span></code></pre></div><h3 id="theme">Theme</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! ef-themes)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq doom-theme <span style="color:#e6db74">&#39;ef-tritanopia-light</span>)
</span></span></code></pre></div><h3 id="line-numbers">Line numbers</h3>
<p>This determines the style of line numbers in effect. If set to `nil&rsquo;, line numbers are disabled. For relative line numbers, set this to `relative'.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq display-line-numbers-type <span style="color:#f92672">`</span>relative)
</span></span></code></pre></div><h3 id="set-default-frame-size">Set default frame size</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;default-frame-alist</span> <span style="color:#f92672">&#39;</span>(height <span style="color:#f92672">.</span> <span style="color:#ae81ff">35</span>))
</span></span><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;default-frame-alist</span> <span style="color:#f92672">&#39;</span>(width <span style="color:#f92672">.</span> <span style="color:#ae81ff">80</span>))
</span></span></code></pre></div><h2 id="lang">Lang</h2>
<h3 id="latex">Latex</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq +latex-viewers <span style="color:#f92672">&#39;</span>(pdf-tools))
</span></span><span style="display:flex;"><span>(after! auctex
</span></span><span style="display:flex;"><span>  (prettify-symbols-mode)
</span></span><span style="display:flex;"><span>  (cdlatex-mode)
</span></span><span style="display:flex;"><span>  (reftex-mode))
</span></span></code></pre></div><h3 id="org">Org</h3>
<h4 id="org-itself">Org itself</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! org :recipe
</span></span><span style="display:flex;"><span>  (:host <span style="color:#66d9ef">nil</span> :repo <span style="color:#e6db74">&#34;https://git.tecosaur.net/mirrors/org-mode.git&#34;</span> :remote <span style="color:#e6db74">&#34;mirror&#34;</span> :fork
</span></span><span style="display:flex;"><span>         (:host <span style="color:#66d9ef">nil</span> :repo <span style="color:#e6db74">&#34;https://git.tecosaur.net/tec/org-mode.git&#34;</span> :branch <span style="color:#e6db74">&#34;dev&#34;</span> :remote <span style="color:#e6db74">&#34;tecosaur&#34;</span>)
</span></span><span style="display:flex;"><span>         :files
</span></span><span style="display:flex;"><span>         (:defaults <span style="color:#e6db74">&#34;etc&#34;</span>)
</span></span><span style="display:flex;"><span>         :build <span style="color:#66d9ef">t</span> :pre-build
</span></span><span style="display:flex;"><span>         (with-temp-file <span style="color:#e6db74">&#34;org-version.el&#34;</span>
</span></span><span style="display:flex;"><span>           (require <span style="color:#e6db74">&#39;lisp-mnt</span>)
</span></span><span style="display:flex;"><span>           (let
</span></span><span style="display:flex;"><span>               ((version
</span></span><span style="display:flex;"><span>                 (with-temp-buffer
</span></span><span style="display:flex;"><span>                   (<span style="color:#a6e22e">insert-file-contents</span> <span style="color:#e6db74">&#34;lisp/org.el&#34;</span>)
</span></span><span style="display:flex;"><span>                   (lm-header <span style="color:#e6db74">&#34;version&#34;</span>)))
</span></span><span style="display:flex;"><span>                (git-version
</span></span><span style="display:flex;"><span>                 (string-trim
</span></span><span style="display:flex;"><span>                  (with-temp-buffer
</span></span><span style="display:flex;"><span>                    (<span style="color:#a6e22e">call-process</span> <span style="color:#e6db74">&#34;git&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;rev-parse&#34;</span> <span style="color:#e6db74">&#34;--short&#34;</span> <span style="color:#e6db74">&#34;HEAD&#34;</span>)
</span></span><span style="display:flex;"><span>                    (<span style="color:#a6e22e">buffer-string</span>)))))
</span></span><span style="display:flex;"><span>             (<span style="color:#a6e22e">insert</span>
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;(defun org-release () \&#34;The release version of Org.\&#34; %S)\n&#34;</span> version)
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;(defun org-git-version () \&#34;The truncate git commit hash of Org mode.\&#34; %S)\n&#34;</span> git-version)
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#34;(provide &#39;org-version)\n&#34;</span>))))
</span></span><span style="display:flex;"><span>  :pin <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(unpin! org) <span style="color:#75715e">; there be bugs</span>
</span></span></code></pre></div><h4 id="org-directory">Org directory</h4>
<p>If you use `org&rsquo; and don&rsquo;t want your org files in the default location below, change `org-directory&rsquo;. It must be set before org loads!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-directory <span style="color:#e6db74">&#34;~/OneDrive/org&#34;</span>)
</span></span><span style="display:flex;"><span>(setq org-roam-directory <span style="color:#e6db74">&#34;~/OneDrive/org-note&#34;</span>)
</span></span></code></pre></div><h4 id="as-a-gtd-tool">As a GTD tool</h4>
<!--list-separator-->
<ul>
<li>
<p>Capture template</p>
<p>Also, because I prefer &ldquo;TODO&rdquo; over &ldquo;[ ]&rdquo;. So I overwrite the default template</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq +org-capture-todo-file <span style="color:#e6db74">&#34;inbox.org&#34;</span>)
</span></span><span style="display:flex;"><span>(after! org
</span></span><span style="display:flex;"><span>  (setq org-capture-templates
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;t&#34;</span> <span style="color:#e6db74">&#34;Personal todo&#34;</span> entry
</span></span><span style="display:flex;"><span>         (file+headline +org-capture-todo-file <span style="color:#e6db74">&#34;Inbox&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#34;* TODO %?\n%i\n%a&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;n&#34;</span> <span style="color:#e6db74">&#34;Personal notes&#34;</span> entry
</span></span><span style="display:flex;"><span>         (file+headline +org-capture-notes-file <span style="color:#e6db74">&#34;Inbox&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#34;* %u %?\n%i\n%a&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;j&#34;</span> <span style="color:#e6db74">&#34;Journal&#34;</span> entry
</span></span><span style="display:flex;"><span>         (file+olp+datetree +org-capture-journal-file)
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#34;* %U %?\n%i\n%a&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;p&#34;</span> <span style="color:#e6db74">&#34;Templates for projects&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;pt&#34;</span> <span style="color:#e6db74">&#34;Project-local todo&#34;</span> entry
</span></span><span style="display:flex;"><span>         (file+headline +org-capture-project-todo-file <span style="color:#e6db74">&#34;Inbox&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#34;* TODO %?\n%i\n%a&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;pn&#34;</span> <span style="color:#e6db74">&#34;Project-local notes&#34;</span> entry
</span></span><span style="display:flex;"><span>         (file+headline +org-capture-project-notes-file <span style="color:#e6db74">&#34;Inbox&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#34;* %U %?\n%i\n%a&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;pc&#34;</span> <span style="color:#e6db74">&#34;Project-local changelog&#34;</span> entry
</span></span><span style="display:flex;"><span>         (file+headline +org-capture-project-changelog-file <span style="color:#e6db74">&#34;Unreleased&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#34;* %U %?\n%i\n%a&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;o&#34;</span> <span style="color:#e6db74">&#34;Centralized templates for projects&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;ot&#34;</span> <span style="color:#e6db74">&#34;Project todo&#34;</span> entry <span style="color:#a6e22e">#&#39;</span>+org-capture-central-project-todo-file <span style="color:#e6db74">&#34;* TODO %?\n %i\n %a&#34;</span> :heading <span style="color:#e6db74">&#34;Tasks&#34;</span> :prepend <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;on&#34;</span> <span style="color:#e6db74">&#34;Project notes&#34;</span> entry <span style="color:#a6e22e">#&#39;</span>+org-capture-central-project-notes-file <span style="color:#e6db74">&#34;* %U %?\n %i\n %a&#34;</span> :heading <span style="color:#e6db74">&#34;Notes&#34;</span> :prepend <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;oc&#34;</span> <span style="color:#e6db74">&#34;Project changelog&#34;</span> entry <span style="color:#a6e22e">#&#39;</span>+org-capture-central-project-changelog-file <span style="color:#e6db74">&#34;* %U %?\n %i\n %a&#34;</span> :heading <span style="color:#e6db74">&#34;Changelog&#34;</span> :prepend <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>  )
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Add a closed time when done</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-log-done <span style="color:#e6db74">&#39;time</span>)
</span></span></code></pre></div></li>
</ul>
<h4 id="visuals">Visuals</h4>
<!--list-separator-->
<ul>
<li>
<p>Org Modern</p>
<p>Fontifying <code>org-mode</code> buffers to be as pretty as possible is of paramount importance,
and Minad&rsquo;s lovely <code>org-modern</code> goes a long way in this regard.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! org-modern :pin <span style="color:#e6db74">&#34;98532cd61795f3f41fffe7d4f0fa4021d8c73ffa&#34;</span>)
</span></span></code></pre></div><p>&hellip;with a touch of configuration&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(use-package! org-modern
</span></span><span style="display:flex;"><span>:hook (org-mode <span style="color:#f92672">.</span> org-modern-mode)
</span></span><span style="display:flex;"><span>:config
</span></span><span style="display:flex;"><span>(setq org-modern-star <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;⚀&#34;</span> <span style="color:#e6db74">&#34;⚁&#34;</span> <span style="color:#e6db74">&#34;⚂&#34;</span> <span style="color:#e6db74">&#34;⚃&#34;</span> <span style="color:#e6db74">&#34;⚄&#34;</span> <span style="color:#e6db74">&#34;⚅&#34;</span>)
</span></span><span style="display:flex;"><span>org-modern-table-vertical <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>org-modern-table-horizontal <span style="color:#ae81ff">0.2</span>
</span></span><span style="display:flex;"><span>org-modern-list <span style="color:#f92672">&#39;</span>((<span style="color:#ae81ff">43</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;➤&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#ae81ff">45</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;–&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#ae81ff">42</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;•&#34;</span>))
</span></span><span style="display:flex;"><span>org-modern-todo-faces
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;TODO&#34;</span> :inverse-video <span style="color:#66d9ef">t</span> :inherit org-todo)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;PROJ&#34;</span> :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-project)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;STRT&#34;</span> :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-active)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;[-]&#34;</span>  :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-active)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;HOLD&#34;</span> :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-onhold)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;WAIT&#34;</span> :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-onhold)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;[?]&#34;</span>  :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-onhold)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;KILL&#34;</span> :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-cancel)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;NO&#34;</span>   :inverse-video <span style="color:#66d9ef">t</span> :inherit +org-todo-cancel))
</span></span><span style="display:flex;"><span>org-modern-footnote
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">cons</span> <span style="color:#66d9ef">nil</span> (cadr org-script-display))
</span></span><span style="display:flex;"><span>org-modern-block-fringe <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>org-modern-block-name
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#39;</span>((<span style="color:#66d9ef">t</span> <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;src&#34;</span> <span style="color:#e6db74">&#34;»&#34;</span> <span style="color:#e6db74">&#34;«&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;example&#34;</span> <span style="color:#e6db74">&#34;»–&#34;</span> <span style="color:#e6db74">&#34;–«&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;comment&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;󰆄&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;quote&#34;</span> <span style="color:#e6db74">&#34;❝&#34;</span> <span style="color:#e6db74">&#34;❞&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;export&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34; &#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; org-modern-progress nil</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; org-modern-priority nil</span>
</span></span><span style="display:flex;"><span>org-modern-horizontal-rule (<span style="color:#a6e22e">make-string</span> <span style="color:#ae81ff">36</span> <span style="color:#e6db74">?─</span>)
</span></span><span style="display:flex;"><span>org-modern-checkbox
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#39;</span>((<span style="color:#ae81ff">88</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>) (<span style="color:#ae81ff">45</span> <span style="color:#f92672">.</span> <span style="color:#f92672">#(</span><span style="color:#e6db74">&#34;–&#34;</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2</span> (composition ((<span style="color:#ae81ff">2</span>))))) (<span style="color:#ae81ff">32</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>))
</span></span><span style="display:flex;"><span>org-modern-keyword
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#39;</span>((<span style="color:#66d9ef">t</span> <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;title&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰗴&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;subtitle&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰨖&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;author&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;email&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;date&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;property&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰠳&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;options&#34;</span> <span style="color:#f92672">.</span> <span style="color:#f92672">#(</span><span style="color:#e6db74">&#34;󰘵&#34;</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> (display (height <span style="color:#ae81ff">0.75</span>))))
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;startup&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;⏻&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;macro&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󱡄&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;bind&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰌷&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;bibliography&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;print_bibliography&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰌱&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;cite_export&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;↗&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;print_glossary&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰌱ᴬᶻ&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;glossary_sources&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰒻&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;include&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;⇤&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;setupfile&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;⇚&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;html_head&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅷&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;html&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅗&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;latex_class&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄻&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;latex_class_options&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄻󰒓&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;latex_header&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅻&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;latex_header_extra&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅻⁺&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;latex&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅛&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;beamer_theme&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄱&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;beamer_color_theme&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄱󰏘&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;beamer_font_theme&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄱&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;beamer_header&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅱&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;beamer&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🅑&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;attr_latex&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄛&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;attr_html&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;🄗&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;attr_org&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;⒪&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;call&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;󰜎&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;name&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;⁍&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;header&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;›&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;caption&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;☰&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;results&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#34;filetags&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>))
</span></span><span style="display:flex;"><span>(custom-set-faces! <span style="color:#f92672">&#39;</span>(org-modern-statistics :inherit org-checkbox-statistics-todo)))
</span></span></code></pre></div><p>Since <code>org-modern</code>&rsquo;s tag face supplants Org&rsquo;s tag face, we need to adjust the
spell-check face ignore list</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(after! spell-fu
</span></span><span style="display:flex;"><span>(cl-pushnew <span style="color:#e6db74">&#39;org-modern-tag</span> (alist-get <span style="color:#e6db74">&#39;org-mode</span> +spell-excluded-faces-alist)))
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Emphasis markers</p>
<p>While <code>org-hide-emphasis-markers</code> is very nice, it can sometimes make edits which
occur at the border a bit more fiddley. We can improve this situation without
sacrificing visual amenities with the <code>org-appear</code> package.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! org-appear :recipe (:host github :repo <span style="color:#e6db74">&#34;awth13/org-appear&#34;</span>)
</span></span><span style="display:flex;"><span>:pin <span style="color:#e6db74">&#34;81eba5d7a5b74cdb1bad091d85667e836f16b997&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-hide-emphasis-markers <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(use-package! org-appear
</span></span><span style="display:flex;"><span>:hook (org-mode <span style="color:#f92672">.</span> org-appear-mode)
</span></span><span style="display:flex;"><span>:config
</span></span><span style="display:flex;"><span>(setq org-appear-autoemphasis <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>org-appear-autosubmarkers <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>org-appear-autolinks <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; for proper first-time setup, `org-appear--set-elements&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; needs to be run after other hooks have acted.</span>
</span></span><span style="display:flex;"><span>(run-at-time <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#a6e22e">#&#39;</span>org-appear--set-elements))
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Title size</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(custom-set-faces
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-level-1 ((<span style="color:#66d9ef">t</span> (:inherit outline-1 :height <span style="color:#ae81ff">1.15</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-level-2 ((<span style="color:#66d9ef">t</span> (:inherit outline-2 :height <span style="color:#ae81ff">1.125</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-level-3 ((<span style="color:#66d9ef">t</span> (:inherit outline-3 :height <span style="color:#ae81ff">1.1</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-level-4 ((<span style="color:#66d9ef">t</span> (:inherit outline-4 :height <span style="color:#ae81ff">1.075</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-level-5 ((<span style="color:#66d9ef">t</span> (:inherit outline-5 :height <span style="color:#ae81ff">1.05</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-level-6 ((<span style="color:#66d9ef">t</span> (:inherit outline-6 :height <span style="color:#ae81ff">1.025</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#39;</span>(org-document-title ((<span style="color:#66d9ef">t</span> (:height <span style="color:#ae81ff">1.8</span> :underline <span style="color:#66d9ef">t</span>))))
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Reduced indent</p>
<p>Thanks to the various bits and bobs of setup we have here, the non-heading lines tend to appear over-indented in org-indent-mode. We can adjust this by modifying the generated text prefixes.</p>
<p>There’s another issue we can have when using mixed-pitch mode, where the line height is set by the indent prefix displayed with the fixed-pitch font. This means that on 0-indent lines the line spacing can be different, which doesn’t look very good. We can also solve this problem by modifying the generated text prefixes to but a fixed-pitch zero width space at the start of 0-indent lines instead of nothing.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(defadvice! +org-indent--reduced-text-prefixes ()
</span></span><span style="display:flex;"><span>  :after <span style="color:#a6e22e">#&#39;</span>org-indent--compute-prefixes
</span></span><span style="display:flex;"><span>  (setq org-indent--text-line-prefixes
</span></span><span style="display:flex;"><span>        (<span style="color:#a6e22e">make-vector</span> org-indent--deepest-level <span style="color:#66d9ef">nil</span>))
</span></span><span style="display:flex;"><span>  (when (<span style="color:#a6e22e">&gt;</span> org-indent-indentation-per-level <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    (dotimes (n org-indent--deepest-level)
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">aset</span> org-indent--text-line-prefixes
</span></span><span style="display:flex;"><span>            n
</span></span><span style="display:flex;"><span>            (org-add-props
</span></span><span style="display:flex;"><span>                (<span style="color:#a6e22e">concat</span> (<span style="color:#a6e22e">make-string</span> (<span style="color:#a6e22e">*</span> n (<span style="color:#a6e22e">1-</span> org-indent-indentation-per-level))
</span></span><span style="display:flex;"><span>                                     <span style="color:#e6db74">?\s</span>)
</span></span><span style="display:flex;"><span>                        (if (<span style="color:#a6e22e">&gt;</span> n <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                             (<span style="color:#a6e22e">char-to-string</span> org-indent-boundary-char)
</span></span><span style="display:flex;"><span>                          <span style="color:#e6db74">&#34;\u200b&#34;</span>))
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-indent</span>)))))
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Center images</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-image-align <span style="color:#e6db74">&#39;center</span>)
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Prettify</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-hook! <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>+org-pretty-mode)
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Sticky header</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! org-sticky-header)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(use-package! org-sticky-header
</span></span><span style="display:flex;"><span>  :hook (org-mode <span style="color:#f92672">.</span> org-sticky-header-mode))
</span></span></code></pre></div></li>
</ul>
<h4 id="latex-in-org">Latex in org</h4>
<!--list-separator-->
<ul>
<li>
<p>Syntax highlighting</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-highlight-latex-and-related <span style="color:#f92672">&#39;</span>(native latex entities))
</span></span><span style="display:flex;"><span>(after! org (org-toggle-pretty-entities))
</span></span></code></pre></div></li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Org latex preview</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(use-package org-latex-preview
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Increase preview width</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">plist-put</span> org-latex-preview-appearance-options
</span></span><span style="display:flex;"><span>             :page-width <span style="color:#ae81ff">0.8</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Use dvisvgm to generate previews</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; You don&#39;t need this, it&#39;s the default:</span>
</span></span><span style="display:flex;"><span>  (setq org-latex-preview-process-default <span style="color:#e6db74">&#39;dvisvgm</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Turn on auto-mode, it&#39;s built into Org and much faster/more featured than</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; org-fragtog. (Remember to turn off/uninstall org-fragtog.)</span>
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#e6db74">&#39;org-latex-preview-auto-mode</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Block C-n and C-p from opening up previews when using auto-mode</span>
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;org-latex-preview-auto-ignored-commands</span> <span style="color:#e6db74">&#39;next-line</span>)
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;org-latex-preview-auto-ignored-commands</span> <span style="color:#e6db74">&#39;previous-line</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Enable consistent equation numbering</span>
</span></span><span style="display:flex;"><span>  (setq org-latex-preview-numbered <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Bonus: Turn on live previews.  This shows you a live preview of a LaTeX</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; fragment and updates the preview in real-time as you edit it.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; To preview only environments, set it to &#39;(block edit-special) instead</span>
</span></span><span style="display:flex;"><span>  (setq org-latex-preview-live <span style="color:#f92672">&#39;</span>(inline block edit-special))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; More immediate live-previews -- the default delay is 1 second</span>
</span></span><span style="display:flex;"><span>  (setq org-latex-preview-live-debounce <span style="color:#ae81ff">0.4</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defun latex-preview ()
</span></span><span style="display:flex;"><span>  (interactive)
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">execute-kbd-macro</span> (kbd <span style="color:#e6db74">&#34;SPC u SPC u C-c C-x C-l&#34;</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(map! :leader
</span></span><span style="display:flex;"><span>      :desc <span style="color:#e6db74">&#34;Latex preview&#34;</span>
</span></span><span style="display:flex;"><span>      :n <span style="color:#e6db74">&#34;l l&#34;</span> <span style="color:#a6e22e">#&#39;</span>latex-preview)
</span></span></code></pre></div> <!--list-separator-->
<ul>
<li>
<p>Dvisvgm setting</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(thread-first (alist-get <span style="color:#e6db74">&#39;dvisvgm</span> org-latex-preview-process-alist)
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">plist-get</span> :image-converter)
</span></span><span style="display:flex;"><span>              (setf <span style="color:#e6db74">&#34;dvisvgm --page=1- --libgs=/opt/homebrew/bin/gs --optimize --clipjoin --relative --no-fonts --bbox=preview -o %B-%%9p.svg %f&#34;</span>)
</span></span><span style="display:flex;"><span>              )
</span></span></code></pre></div></li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Always center displaymath</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(use-package! org-latex-preview
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (defun my/org-latex-preview-uncenter (ov)
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">overlay-put</span> ov <span style="color:#e6db74">&#39;before-string</span> <span style="color:#66d9ef">nil</span>))
</span></span><span style="display:flex;"><span>  (defun my/org-latex-preview-recenter (ov)
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">overlay-put</span> ov <span style="color:#e6db74">&#39;before-string</span> (<span style="color:#a6e22e">overlay-get</span> ov <span style="color:#e6db74">&#39;justify</span>)))
</span></span><span style="display:flex;"><span>  (defun my/org-latex-preview-center (ov)
</span></span><span style="display:flex;"><span>    (save-excursion
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">overlay-start</span> ov))
</span></span><span style="display:flex;"><span>      (when-let* ((elem (org-element-context))
</span></span><span style="display:flex;"><span>                  ((or (<span style="color:#a6e22e">eq</span> (org-element-type elem) <span style="color:#e6db74">&#39;latex-environment</span>)
</span></span><span style="display:flex;"><span>                       (string-match-p <span style="color:#e6db74">&#34;^\\\\\\[&#34;</span> (org-element-property :value elem))))
</span></span><span style="display:flex;"><span>                  (img (<span style="color:#a6e22e">overlay-get</span> ov <span style="color:#e6db74">&#39;display</span>))
</span></span><span style="display:flex;"><span>                  (prop <span style="color:#f92672">`</span>(space :align-to (<span style="color:#a6e22e">-</span> center (<span style="color:#ae81ff">0.55</span> <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>img))))
</span></span><span style="display:flex;"><span>                  (justify (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#e6db74">&#39;display</span> prop <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;default</span>)))
</span></span><span style="display:flex;"><span>        (<span style="color:#a6e22e">overlay-put</span> ov <span style="color:#e6db74">&#39;justify</span> justify)
</span></span><span style="display:flex;"><span>        (<span style="color:#a6e22e">overlay-put</span> ov <span style="color:#e6db74">&#39;before-string</span> (<span style="color:#a6e22e">overlay-get</span> ov <span style="color:#e6db74">&#39;justify</span>)))))
</span></span><span style="display:flex;"><span>  (define-minor-mode org-latex-preview-center-mode
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Center equations previewed with </span><span style="color:#e6db74">`org-latex-preview&#39;</span><span style="color:#e6db74">.&#34;</span>
</span></span><span style="display:flex;"><span>    :global <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    (if org-latex-preview-center-mode
</span></span><span style="display:flex;"><span>        (progn
</span></span><span style="display:flex;"><span>          (add-hook <span style="color:#e6db74">&#39;org-latex-preview-overlay-open-functions</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">#&#39;</span>my/org-latex-preview-uncenter <span style="color:#66d9ef">nil</span> :local)
</span></span><span style="display:flex;"><span>          (add-hook <span style="color:#e6db74">&#39;org-latex-preview-overlay-close-functions</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">#&#39;</span>my/org-latex-preview-recenter <span style="color:#66d9ef">nil</span> :local)
</span></span><span style="display:flex;"><span>          (add-hook <span style="color:#e6db74">&#39;org-latex-preview-overlay-update-functions</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">#&#39;</span>my/org-latex-preview-center <span style="color:#66d9ef">nil</span> :local))
</span></span><span style="display:flex;"><span>      (remove-hook <span style="color:#e6db74">&#39;org-latex-preview-overlay-close-functions</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">#&#39;</span>my/org-latex-preview-recenter)
</span></span><span style="display:flex;"><span>      (remove-hook <span style="color:#e6db74">&#39;org-latex-preview-overlay-update-functions</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">#&#39;</span>my/org-latex-preview-center)
</span></span><span style="display:flex;"><span>      (remove-hook <span style="color:#e6db74">&#39;org-latex-preview-overlay-open-functions</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">#&#39;</span>my/org-latex-preview-uncenter))))
</span></span></code></pre></div><p>And add hook onto org mode</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-hook! <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>org-latex-preview-center-mode)
</span></span></code></pre></div></li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>Health check</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(defun org-latex-preview-check-health (<span style="color:#66d9ef">&amp;optional</span> inter)
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Inspect the relevent system state and setup.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">INTER signals whether the function has been called interactively.&#34;</span>
</span></span><span style="display:flex;"><span>  (interactive (<span style="color:#a6e22e">list</span> <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Collect information</span>
</span></span><span style="display:flex;"><span>  (let* ((diag <span style="color:#f92672">`</span>(:interactive <span style="color:#f92672">,</span>inter)))
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">plist-put</span> diag :org-version org-version)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; modified variables</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">plist-put</span> diag :modified
</span></span><span style="display:flex;"><span>               (let ((<span style="color:#a6e22e">list</span>))
</span></span><span style="display:flex;"><span>                 (<span style="color:#a6e22e">mapatoms</span>
</span></span><span style="display:flex;"><span>                  (lambda (v)
</span></span><span style="display:flex;"><span>                    (and (<span style="color:#a6e22e">boundp</span> v)
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;\\`\\(org-latex-\\|org-persist-\\)&#34;</span> (<span style="color:#a6e22e">symbol-name</span> v))
</span></span><span style="display:flex;"><span>                         (or (and (<span style="color:#a6e22e">symbol-value</span> v)
</span></span><span style="display:flex;"><span>                                  (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;\\(-hook\\|-function\\)\\&#39;&#34;</span> (<span style="color:#a6e22e">symbol-name</span> v)))
</span></span><span style="display:flex;"><span>                             (and
</span></span><span style="display:flex;"><span>                              (<span style="color:#a6e22e">get</span> v <span style="color:#e6db74">&#39;custom-type</span>) (<span style="color:#a6e22e">get</span> v <span style="color:#e6db74">&#39;standard-value</span>)
</span></span><span style="display:flex;"><span>                              (not (<span style="color:#a6e22e">equal</span> (<span style="color:#a6e22e">symbol-value</span> v)
</span></span><span style="display:flex;"><span>                                          (<span style="color:#a6e22e">eval</span> (<span style="color:#a6e22e">car</span> (<span style="color:#a6e22e">get</span> v <span style="color:#e6db74">&#39;standard-value</span>)) <span style="color:#66d9ef">t</span>)))))
</span></span><span style="display:flex;"><span>                         (push (<span style="color:#a6e22e">cons</span> v (<span style="color:#a6e22e">symbol-value</span> v)) <span style="color:#a6e22e">list</span>))))
</span></span><span style="display:flex;"><span>                 <span style="color:#a6e22e">list</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; Executables</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; latex processors</span>
</span></span><span style="display:flex;"><span>    (dolist (processor org-latex-compilers)
</span></span><span style="display:flex;"><span>      (when-let ((path (executable-find processor)))
</span></span><span style="display:flex;"><span>        (let ((version (with-temp-buffer
</span></span><span style="display:flex;"><span>                         (thread-last
</span></span><span style="display:flex;"><span>                           (<span style="color:#a6e22e">concat</span> processor <span style="color:#e6db74">&#34; --version&#34;</span>)
</span></span><span style="display:flex;"><span>                           (shell-command-to-string)
</span></span><span style="display:flex;"><span>                           (<span style="color:#a6e22e">insert</span>))
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">point-min</span>))
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">buffer-substring</span> (<span style="color:#a6e22e">point</span>) (<span style="color:#a6e22e">line-end-position</span>)))))
</span></span><span style="display:flex;"><span>          (push (<span style="color:#a6e22e">list</span> processor version path) (<span style="color:#a6e22e">plist-get</span> diag :latex-processors)))))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; Image converters</span>
</span></span><span style="display:flex;"><span>    (dolist (converter <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;dvipng&#34;</span> <span style="color:#e6db74">&#34;dvisvgm&#34;</span> <span style="color:#e6db74">&#34;convert&#34;</span>))
</span></span><span style="display:flex;"><span>      (when-let ((path (executable-find converter)))
</span></span><span style="display:flex;"><span>        (let ((version (with-temp-buffer
</span></span><span style="display:flex;"><span>                         (thread-last
</span></span><span style="display:flex;"><span>                           (<span style="color:#a6e22e">concat</span> converter <span style="color:#e6db74">&#34; --version&#34;</span>)
</span></span><span style="display:flex;"><span>                           (shell-command-to-string)
</span></span><span style="display:flex;"><span>                           (<span style="color:#a6e22e">insert</span>))
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">point-min</span>))
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">buffer-substring</span> (<span style="color:#a6e22e">point</span>) (<span style="color:#a6e22e">line-end-position</span>)))))
</span></span><span style="display:flex;"><span>          (push (<span style="color:#a6e22e">list</span> converter version path) (<span style="color:#a6e22e">plist-get</span> diag :image-converters)))))
</span></span><span style="display:flex;"><span>    (when inter
</span></span><span style="display:flex;"><span>      (with-current-buffer (<span style="color:#a6e22e">get-buffer-create</span> <span style="color:#e6db74">&#34;*Org LaTeX Preview Report*&#34;</span>)
</span></span><span style="display:flex;"><span>        (let ((inhibit-read-only <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">erase-buffer</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;Your LaTeX preview process&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-1</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;\n\n&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          (let* ((latex-available (cl-member org-latex-compiler
</span></span><span style="display:flex;"><span>                                             (<span style="color:#a6e22e">plist-get</span> diag :latex-processors)
</span></span><span style="display:flex;"><span>                                             :key <span style="color:#a6e22e">#&#39;car</span> :test <span style="color:#a6e22e">#&#39;</span>string=))
</span></span><span style="display:flex;"><span>                 (precompile-available
</span></span><span style="display:flex;"><span>                  (and latex-available
</span></span><span style="display:flex;"><span>                       (not (<span style="color:#a6e22e">member</span> org-latex-compiler <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;lualatex&#34;</span> <span style="color:#e6db74">&#34;xelatex&#34;</span>)))))
</span></span><span style="display:flex;"><span>                 (proc-info (alist-get
</span></span><span style="display:flex;"><span>                             org-latex-preview-process-default
</span></span><span style="display:flex;"><span>                             org-latex-preview-process-alist))
</span></span><span style="display:flex;"><span>                 (image-converter (cadr (<span style="color:#a6e22e">plist-get</span> proc-info :programs)))
</span></span><span style="display:flex;"><span>                 (image-converter
</span></span><span style="display:flex;"><span>                  (cl-find-if
</span></span><span style="display:flex;"><span>                   (lambda (c)
</span></span><span style="display:flex;"><span>                     (string= image-converter c))
</span></span><span style="display:flex;"><span>                   (<span style="color:#a6e22e">plist-get</span> diag :image-converters)
</span></span><span style="display:flex;"><span>                   :key <span style="color:#a6e22e">#&#39;car</span>))
</span></span><span style="display:flex;"><span>                 (image-output-type (<span style="color:#a6e22e">plist-get</span> proc-info :image-output-type)))
</span></span><span style="display:flex;"><span>            (if org-latex-preview-process-precompiled
</span></span><span style="display:flex;"><span>                (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;Precompile with &#34;</span>
</span></span><span style="display:flex;"><span>                        (<span style="color:#a6e22e">propertize</span> (map-elt org-latex-precompile-compiler-map
</span></span><span style="display:flex;"><span>                                             org-latex-compiler)
</span></span><span style="display:flex;"><span>                                    <span style="color:#e6db74">&#39;face</span>
</span></span><span style="display:flex;"><span>                                    (<span style="color:#a6e22e">list</span>
</span></span><span style="display:flex;"><span>                                     (if precompile-available
</span></span><span style="display:flex;"><span>                                         <span style="color:#f92672">&#39;</span>(:inherit success :box <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>                                       <span style="color:#f92672">&#39;</span>(:inherit <span style="color:#a6e22e">error</span> :box <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>                                     <span style="color:#e6db74">&#39;org-block</span>))
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34; → &#34;</span>))
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;LaTeX Compile with &#34;</span>
</span></span><span style="display:flex;"><span>                    (<span style="color:#a6e22e">propertize</span> org-latex-compiler <span style="color:#e6db74">&#39;face</span>
</span></span><span style="display:flex;"><span>                                (<span style="color:#a6e22e">list</span>
</span></span><span style="display:flex;"><span>                                 (if latex-available
</span></span><span style="display:flex;"><span>                                     <span style="color:#f92672">&#39;</span>(:inherit success :box <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>                                   <span style="color:#f92672">&#39;</span>(:inherit <span style="color:#a6e22e">error</span> :box <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>                                 <span style="color:#e6db74">&#39;org-block</span>))
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34; → &#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;Convert to &#34;</span>
</span></span><span style="display:flex;"><span>                    (<span style="color:#a6e22e">propertize</span> (<span style="color:#a6e22e">upcase</span> image-output-type) <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(:weight bold))
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34; with &#34;</span>
</span></span><span style="display:flex;"><span>                    (<span style="color:#a6e22e">propertize</span> (<span style="color:#a6e22e">car</span> image-converter) <span style="color:#e6db74">&#39;face</span>
</span></span><span style="display:flex;"><span>                                (<span style="color:#a6e22e">list</span>
</span></span><span style="display:flex;"><span>                                 (if image-converter
</span></span><span style="display:flex;"><span>                                     <span style="color:#f92672">&#39;</span>(:inherit success :box <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>                                   <span style="color:#f92672">&#39;</span>(:inherit <span style="color:#a6e22e">error</span> :box <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>                                 <span style="color:#e6db74">&#39;org-block</span>))
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n\n&#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> org-latex-compiler <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-3</span>)
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>                    (if latex-available
</span></span><span style="display:flex;"><span>                        (<span style="color:#a6e22e">concat</span>
</span></span><span style="display:flex;"><span>                          (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                           (<span style="color:#a6e22e">mapconcat</span> <span style="color:#a6e22e">#&#39;identity</span> (map-nested-elt diag <span style="color:#f92672">`</span>(:latex-processors <span style="color:#f92672">,</span>org-latex-compiler))
</span></span><span style="display:flex;"><span>                                      <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>                           <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-block</span>)
</span></span><span style="display:flex;"><span>                          <span style="color:#e6db74">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>                          (when (and latex-available (not precompile-available))
</span></span><span style="display:flex;"><span>                            (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                             (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;\nWarning: Precompilation not available with %S!\n&#34;</span> org-latex-compiler)
</span></span><span style="display:flex;"><span>                             <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;warning</span>)))
</span></span><span style="display:flex;"><span>                      (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;Not found in path!\n&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;error</span>))
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> (cadr (<span style="color:#a6e22e">plist-get</span> proc-info :programs)) <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-3</span>)
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>                    (if image-converter
</span></span><span style="display:flex;"><span>                        (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">concat</span>
</span></span><span style="display:flex;"><span>                          (<span style="color:#a6e22e">mapconcat</span> <span style="color:#a6e22e">#&#39;identity</span> (<span style="color:#a6e22e">cdr</span> image-converter) <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>                          <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>                         <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-block</span>)
</span></span><span style="display:flex;"><span>                      (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;Not found in path!\n&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;error</span>))
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">;; dvisvgm version check</span>
</span></span><span style="display:flex;"><span>            (when (<span style="color:#a6e22e">equal</span> (<span style="color:#a6e22e">car-safe</span> image-converter)
</span></span><span style="display:flex;"><span>                         <span style="color:#e6db74">&#34;dvisvgm&#34;</span>)
</span></span><span style="display:flex;"><span>              (let* ((version-string (cadr image-converter))
</span></span><span style="display:flex;"><span>                     (dvisvgm-ver (progn
</span></span><span style="display:flex;"><span>                                    (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;\\([0-9.]+\\)&#34;</span> version-string)
</span></span><span style="display:flex;"><span>                                    (match-string <span style="color:#ae81ff">1</span> version-string))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                (when (version&lt; dvisvgm-ver <span style="color:#e6db74">&#34;3.0&#34;</span>)
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                           (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;Warning: dvisvgm version %s &lt; 3.0, displaymath will not be centered.&#34;</span>
</span></span><span style="display:flex;"><span>                                   dvisvgm-ver)
</span></span><span style="display:flex;"><span>                           <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;warning</span>)
</span></span><span style="display:flex;"><span>                          <span style="color:#e6db74">&#34;\n\n&#34;</span>))
</span></span><span style="display:flex;"><span>                (unless (string-match-p <span style="color:#e6db74">&#34; RSVG&#34;</span> system-configuration-features)
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                           <span style="color:#e6db74">&#34;Error: Emacs was not compiled with SVG support,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">images cannot be displayed with dvisvgm&#34;</span>
</span></span><span style="display:flex;"><span>                           <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;error</span>)))))
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">;; png support check</span>
</span></span><span style="display:flex;"><span>            (when (<span style="color:#a6e22e">member</span> (<span style="color:#a6e22e">car-safe</span> image-converter)
</span></span><span style="display:flex;"><span>                          <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;dvipng&#34;</span> <span style="color:#e6db74">&#34;convert&#34;</span>))
</span></span><span style="display:flex;"><span>              (unless (string-match-p <span style="color:#e6db74">&#34; PNG&#34;</span> system-configuration-features)
</span></span><span style="display:flex;"><span>                (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                         (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;Error: Emacs was not compiled with PNG support,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">images cannot be displayed with %s&#34;</span>
</span></span><span style="display:flex;"><span>                                 (<span style="color:#a6e22e">car-safe</span> image-converter))))))
</span></span><span style="display:flex;"><span>            (when (not (and latex-available image-converter))
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;path: &#34;</span> (getenv <span style="color:#e6db74">&#34;PATH&#34;</span>) <span style="color:#e6db74">&#34;\n\n&#34;</span>)))
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">;; Settings</span>
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;LaTeX preview options&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-2</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          (pcase-dolist (<span style="color:#f92672">`</span>(<span style="color:#f92672">,</span>var <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>msg)
</span></span><span style="display:flex;"><span>                         <span style="color:#f92672">`</span>((<span style="color:#f92672">,</span>org-latex-preview-process-precompiled <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;Precompilation           &#34;</span>)
</span></span><span style="display:flex;"><span>                           (<span style="color:#f92672">,</span>org-latex-preview-numbered <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;Equation renumbering     &#34;</span>)
</span></span><span style="display:flex;"><span>                           (<span style="color:#f92672">,</span>org-latex-preview-cache  <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;Caching with org-persist &#34;</span>)))
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;• &#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-list-dt</span>)
</span></span><span style="display:flex;"><span>                    msg
</span></span><span style="display:flex;"><span>                    (if var
</span></span><span style="display:flex;"><span>                        (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;ON&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(success bold org-block))
</span></span><span style="display:flex;"><span>                      (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;OFF&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(<span style="color:#a6e22e">error</span> bold org-block)))
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n&#34;</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;LaTeX preview sizing&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-2</span>) <span style="color:#e6db74">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;•&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-list-dt</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34; Page width  &#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                   (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;%S&#34;</span> (<span style="color:#a6e22e">plist-get</span> org-latex-preview-appearance-options :page-width))
</span></span><span style="display:flex;"><span>                   <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(org-code org-block))
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34;   (display equation width in LaTeX)\n&#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;•&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-list-dt</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34; Scale       &#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                   (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;%.2f&#34;</span> (<span style="color:#a6e22e">plist-get</span> org-latex-preview-appearance-options :scale))
</span></span><span style="display:flex;"><span>                   <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(org-code org-block))
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34;  (PNG pixel density multiplier)\n&#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;•&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;org-list-dt</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34; Zoom        &#34;</span>
</span></span><span style="display:flex;"><span>                  (<span style="color:#a6e22e">propertize</span>
</span></span><span style="display:flex;"><span>                   (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;%.2f&#34;</span> (<span style="color:#a6e22e">plist-get</span> org-latex-preview-appearance-options :zoom))
</span></span><span style="display:flex;"><span>                   <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(org-code org-block))
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#34;  (display scaling factor)\n\n&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;LaTeX preview preamble&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-2</span>) <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>          (let ((major-mode <span style="color:#e6db74">&#39;org-mode</span>))
</span></span><span style="display:flex;"><span>            (let ((point-1 (<span style="color:#a6e22e">point</span>)))
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">insert</span> org-latex-preview-preamble <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>              (org-src-font-lock-fontify-block <span style="color:#e6db74">&#39;latex</span> point-1 (<span style="color:#a6e22e">point</span>))
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">add-face-text-property</span> point-1 (<span style="color:#a6e22e">point</span>) <span style="color:#f92672">&#39;</span>(:inherit org-block :height <span style="color:#ae81ff">0.9</span>)))
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">;; Diagnostic output</span>
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">insert</span> (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;Diagnostic info (copied)&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#e6db74">&#39;outline-2</span>)
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;\n\n&#34;</span>)
</span></span><span style="display:flex;"><span>            (let ((point-1 (<span style="color:#a6e22e">point</span>)))
</span></span><span style="display:flex;"><span>              (pp diag (<span style="color:#a6e22e">current-buffer</span>))
</span></span><span style="display:flex;"><span>              (org-src-font-lock-fontify-block <span style="color:#e6db74">&#39;emacs-lisp</span> point-1 (<span style="color:#a6e22e">point</span>))
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">add-face-text-property</span> point-1 (<span style="color:#a6e22e">point</span>) <span style="color:#f92672">&#39;</span>(:height <span style="color:#ae81ff">0.9</span>))))
</span></span><span style="display:flex;"><span>          (gui-select-text (<span style="color:#a6e22e">prin1-to-string</span> diag))
</span></span><span style="display:flex;"><span>          (special-mode))
</span></span><span style="display:flex;"><span>        (setq-local
</span></span><span style="display:flex;"><span>         revert-buffer-function
</span></span><span style="display:flex;"><span>         (lambda (<span style="color:#66d9ef">&amp;rest</span> _)
</span></span><span style="display:flex;"><span>           (<span style="color:#a6e22e">call-interactively</span> <span style="color:#a6e22e">#&#39;</span>org-latex-preview-check-health)
</span></span><span style="display:flex;"><span>           (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Refreshed LaTeX preview diagnostic&#34;</span>)))
</span></span><span style="display:flex;"><span>        (let ((message-log-max <span style="color:#66d9ef">nil</span>))
</span></span><span style="display:flex;"><span>          (toggle-truncate-lines <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>        (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">point-min</span>))
</span></span><span style="display:flex;"><span>        (display-buffer (<span style="color:#a6e22e">current-buffer</span>))))
</span></span><span style="display:flex;"><span>    diag))
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>latex editing</p>
 <!--list-separator-->
<ul>
<li>
<p>Prettify symbols</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq  org-pretty-entities <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>       org-pretty-entities-include-sub-superscripts <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div></li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>cdlatex in org</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-hook! <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>org-cdlatex-mode)
</span></span></code></pre></div> <!--list-separator-->
<ul>
<li>
<p>&rsquo; key modify</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq cdlatex-math-modify-alist
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">?t</span> <span style="color:#e6db74">&#34;\\mathbb&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">?v</span> <span style="color:#e6db74">&#34;\\vec&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">?&gt;</span> <span style="color:#e6db74">&#34;\\check&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">?s</span> <span style="color:#e6db74">&#34;\\sqrt&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">?a</span> <span style="color:#e6db74">&#34;| ? |&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">?l</span> <span style="color:#e6db74">&#34;\\text&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>        ))
</span></span></code></pre></div></li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>symbol alist modify</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(defun my/set-cdlatex-math-symbol-alist ()
</span></span><span style="display:flex;"><span>        (setq cdlatex-math-symbol-alist
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">?0</span> (<span style="color:#e6db74">&#34;\\varnothing&#34;</span> <span style="color:#e6db74">&#34;\\emptyset&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?1</span> (<span style="color:#e6db74">&#34;\\ONE&#34;</span> <span style="color:#e6db74">&#34;\\one&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?.</span> (<span style="color:#e6db74">&#34;\\cdot&#34;</span> <span style="color:#e6db74">&#34;\\circ&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?v</span> (<span style="color:#e6db74">&#34;\\vee&#34;</span> <span style="color:#e6db74">&#34;\\bigvee&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?&amp;</span> (<span style="color:#e6db74">&#34;\\wedge&#34;</span> <span style="color:#e6db74">&#34;\\bigwedge&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?9</span> (<span style="color:#e6db74">&#34;\\cap&#34;</span> <span style="color:#e6db74">&#34;\\bigcap&#34;</span> <span style="color:#e6db74">&#34;\\bigoplus&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?+</span> (<span style="color:#e6db74">&#34;\\cup&#34;</span> <span style="color:#e6db74">&#34;\\bigcup&#34;</span> <span style="color:#e6db74">&#34;\\oplus&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?-</span> (<span style="color:#e6db74">&#34;\\rightharpoonup&#34;</span> <span style="color:#e6db74">&#34;\\hookrightarrow&#34;</span> <span style="color:#e6db74">&#34;\\circlearrowleft&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?=</span> (<span style="color:#e6db74">&#34;\\equiv&#34;</span> <span style="color:#e6db74">&#34;\\Leftrightarrow&#34;</span> <span style="color:#e6db74">&#34;\\Longleftrightarrow&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?~</span> (<span style="color:#e6db74">&#34;\\sim&#34;</span> <span style="color:#e6db74">&#34;\\approx&#34;</span> <span style="color:#e6db74">&#34;\\propto&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?L</span> (<span style="color:#e6db74">&#34;\\Lambda&#34;</span> <span style="color:#e6db74">&#34;\\limits&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?*</span> (<span style="color:#e6db74">&#34;\\times&#34;</span> <span style="color:#e6db74">&#34;\\otimes&#34;</span> <span style="color:#e6db74">&#34;\\bigotimes&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?e</span> (<span style="color:#e6db74">&#34;\\eps&#34;</span> <span style="color:#e6db74">&#34;\\epsilon&#34;</span> <span style="color:#e6db74">&#34;\\exp\\Big( ? \\Big)&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?&gt;</span> (<span style="color:#e6db74">&#34;\\mapsto&#34;</span> <span style="color:#e6db74">&#34;\\longrightarrow&#34;</span> <span style="color:#e6db74">&#34;\\rightrightarrows&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?&lt;</span> (<span style="color:#e6db74">&#34;\\preceq&#34;</span> <span style="color:#e6db74">&#34;\\leftarrow&#34;</span> <span style="color:#e6db74">&#34;\\longleftarrow&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?|</span> (<span style="color:#e6db74">&#34;\\parallel&#34;</span> <span style="color:#e6db74">&#34;\\mid&#34;</span> <span style="color:#e6db74">&#34;\\perp&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?S</span> (<span style="color:#e6db74">&#34;\\Sigma&#34;</span> <span style="color:#e6db74">&#34;\\sum_{?}^{}&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?{</span> (<span style="color:#e6db74">&#34;\\subset&#34;</span> <span style="color:#e6db74">&#34;\\prec&#34;</span> <span style="color:#e6db74">&#34;\\subseteq&#34;</span>))
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">?}</span> (<span style="color:#e6db74">&#34;\\supset&#34;</span> <span style="color:#e6db74">&#34;\\succ&#34;</span> <span style="color:#e6db74">&#34;\\supseteq&#34;</span>)))))
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
 <!--list-separator-->
<ul>
<li>
<p>reftex</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-hook! <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>reftex-mode)
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>latex packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq org-latex-packages-alist
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;amsmath&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;T1&#34;</span> <span style="color:#e6db74">&#34;fontenc&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;bm&#34;</span> <span style="color:#66d9ef">t</span>) <span style="color:#75715e">; Bold math required</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;mathtools&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;siunitx&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;physics2&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;amssymb&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;algpseudocode&#34;</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#34;&#34;</span> <span style="color:#e6db74">&#34;mlmodern&#34;</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(setq org-latex-preview-preamble
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;\\documentclass{article}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[DEFAULT-PACKAGES]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[PACKAGES]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">\\usepackage{xcolor}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">\\usephysicsmodule{ab,ab.braket,diagmat,xmat}%
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div></li>
</ul>
<h4 id="org-roam">Org Roam</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! org-roam-ui)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(map! :after evil :leader :desc <span style="color:#e6db74">&#34;toggle org roam ui&#34;</span> :n <span style="color:#e6db74">&#34;n r u&#34;</span> <span style="color:#a6e22e">#&#39;</span>org-roam-ui-mode)
</span></span><span style="display:flex;"><span>(setq org-roam-node-display-template
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;${title:*} &#34;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#34; &#34;</span>
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">propertize</span> <span style="color:#e6db74">&#34;${doom-tags:42}&#34;</span> <span style="color:#e6db74">&#39;face</span> <span style="color:#f92672">&#39;</span>(:inherit org-tag :box <span style="color:#66d9ef">nil</span>))))
</span></span></code></pre></div><!--list-separator-->
<ul>
<li>
<p>Roam template</p>
<p>Default template included too much auxiliary details, only need dates included</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(setq org-roam-capture-templates
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;d&#34;</span> <span style="color:#e6db74">&#34;default&#34;</span> plain <span style="color:#e6db74">&#34;%?&#34;</span> :target
</span></span><span style="display:flex;"><span>        (file+head <span style="color:#e6db74">&#34;%&lt;%Y%m%d&gt;-${slug}.org&#34;</span> <span style="color:#e6db74">&#34;#+title: ${title}\n&#34;</span>)
</span></span><span style="display:flex;"><span>        :unnarrowed <span style="color:#66d9ef">t</span>)))
</span></span></code></pre></div><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>default</td>
<td>plain</td>
<td>%?</td>
<td>:target</td>
<td>(file+head %&lt;%Y%m%d&gt;-${slug}.org #+title: ${title}</td>
</tr>
</tbody>
</table>
<p>) |:unnarrowed |t |</p>
</li>
</ul>
<h4 id="lsp-support-in-src-blocks">LSP support in <code>src</code> blocks</h4>
<p>Now, by default, LSPs don&rsquo;t really function at all in <code>src</code> blocks.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(cl-defmacro lsp-org-babel-enable (lang)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Support LANG in org source code block.&#34;</span>
</span></span><span style="display:flex;"><span>(setq centaur-lsp <span style="color:#e6db74">&#39;lsp-mode</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">cl-check-type</span> lang <span style="color:#a6e22e">string</span>)
</span></span><span style="display:flex;"><span>(let* ((edit-pre (<span style="color:#a6e22e">intern</span> (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;org-babel-edit-prep:%s&#34;</span> lang)))
</span></span><span style="display:flex;"><span>    (intern-pre (<span style="color:#a6e22e">intern</span> (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;lsp--%s&#34;</span> (<span style="color:#a6e22e">symbol-name</span> edit-pre)))))
</span></span><span style="display:flex;"><span><span style="color:#f92672">`</span>(progn
</span></span><span style="display:flex;"><span>(defun <span style="color:#f92672">,</span>intern-pre (info)
</span></span><span style="display:flex;"><span>    (let ((file-name (-&gt;&gt; info caddr (alist-get :file))))
</span></span><span style="display:flex;"><span>    (unless file-name
</span></span><span style="display:flex;"><span>        (setq file-name (make-temp-file <span style="color:#e6db74">&#34;babel-lsp-&#34;</span>)))
</span></span><span style="display:flex;"><span>    (setq <span style="color:#a6e22e">buffer-file-name</span> file-name)
</span></span><span style="display:flex;"><span>    (lsp-deferred)))
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;,intern-pre</span> <span style="color:#e6db74">&#39;function-documentation</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;Enable lsp-mode in the buffer of org source block (%s).&#34;</span>
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">upcase</span> <span style="color:#f92672">,</span>lang)))
</span></span><span style="display:flex;"><span>(if (<span style="color:#a6e22e">fboundp</span> <span style="color:#e6db74">&#39;,edit-pre</span>)
</span></span><span style="display:flex;"><span>    (advice-add <span style="color:#e6db74">&#39;,edit-pre</span> :after <span style="color:#e6db74">&#39;,intern-pre</span>)
</span></span><span style="display:flex;"><span>    (progn
</span></span><span style="display:flex;"><span>    (defun <span style="color:#f92672">,</span>edit-pre (info)
</span></span><span style="display:flex;"><span>        (<span style="color:#f92672">,</span>intern-pre info))
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">put</span> <span style="color:#e6db74">&#39;,edit-pre</span> <span style="color:#e6db74">&#39;function-documentation</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;Prepare local buffer environment for org source block (%s).&#34;</span>
</span></span><span style="display:flex;"><span>                (<span style="color:#a6e22e">upcase</span> <span style="color:#f92672">,</span>lang))))))))
</span></span><span style="display:flex;"><span>(defvar org-babel-lang-list
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;go&#34;</span> <span style="color:#e6db74">&#34;python&#34;</span> <span style="color:#e6db74">&#34;ipython&#34;</span> <span style="color:#e6db74">&#34;bash&#34;</span> <span style="color:#e6db74">&#34;sh&#34;</span>))
</span></span><span style="display:flex;"><span>(dolist (lang org-babel-lang-list)
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">eval</span> <span style="color:#f92672">`</span>(lsp-org-babel-enable <span style="color:#f92672">,</span>lang)))
</span></span></code></pre></div><h4 id="export-to">Export-to</h4>
<!--list-separator-->
<ul>
<li>
<p>Latex</p>
<p>By default Org uses pdflatex × 3 + bibtex. This simply won’t do in our modern world. latexmk + biber (which is used automatically with latexmk) is a simply superior combination.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;; org-latex-compilers = (&#34;pdflatex&#34; &#34;xelatex&#34; &#34;lualatex&#34;), which are the possible values for %latex</span>
</span></span><span style="display:flex;"><span>(setq org-latex-pdf-process <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;latexmk -pdf -shell-escape -interaction=nonstopmode -output-directory=%o %f&#34;</span>))
</span></span></code></pre></div><p>While org-latex-pdf-process does support a function, and we could use that instead, this would no longer use the log buffer — it’s a bit blind, you give it the file name and expect it to do its thing.</p>
<p>The default values of org-latex-compilers is given in commented form to see how org-latex-pdf-process works with them.</p>
</li>
</ul>
<!--list-separator-->
<ul>
<li>
<p>Hugo</p>
<p>org-export-with-buffer-copy no longer exists in latest version</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(defun org-html-format-latex (latex-frag processing-type info)
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Format a LaTeX fragment LATEX-FRAG into HTML.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">PROCESSING-TYPE designates the tool used for conversion.  It can
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">be </span><span style="color:#e6db74">`mathjax&#39;</span><span style="color:#e6db74">, </span><span style="color:#e6db74">`verbatim&#39;</span><span style="color:#e6db74">, </span><span style="color:#e6db74">`html&#39;</span><span style="color:#e6db74">, nil, t or symbols in
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"></span><span style="color:#e6db74">`org-preview-latex-process-alist&#39;</span><span style="color:#e6db74">, e.g., </span><span style="color:#e6db74">`dvipng&#39;</span><span style="color:#e6db74">, </span><span style="color:#e6db74">`dvisvgm&#39;</span><span style="color:#e6db74"> or
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"></span><span style="color:#e6db74">`imagemagick&#39;</span><span style="color:#e6db74">.  See </span><span style="color:#e6db74">`org-html-with-latex&#39;</span><span style="color:#e6db74"> for more information.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">INFO is a plist containing export properties.&#34;</span>
</span></span><span style="display:flex;"><span>  (let ((cache-relpath <span style="color:#e6db74">&#34;&#34;</span>) (cache-dir <span style="color:#e6db74">&#34;&#34;</span>))
</span></span><span style="display:flex;"><span>    (unless (or (<span style="color:#a6e22e">eq</span> processing-type <span style="color:#e6db74">&#39;mathjax</span>)
</span></span><span style="display:flex;"><span>                (<span style="color:#a6e22e">eq</span> processing-type <span style="color:#e6db74">&#39;html</span>))
</span></span><span style="display:flex;"><span>      (let ((bfn (or (<span style="color:#a6e22e">buffer-file-name</span>)
</span></span><span style="display:flex;"><span>             (<span style="color:#a6e22e">make-temp-name</span>
</span></span><span style="display:flex;"><span>              (<span style="color:#a6e22e">expand-file-name</span> <span style="color:#e6db74">&#34;latex&#34;</span> temporary-file-directory))))
</span></span><span style="display:flex;"><span>        (latex-header
</span></span><span style="display:flex;"><span>         (let ((header (<span style="color:#a6e22e">plist-get</span> info :latex-header)))
</span></span><span style="display:flex;"><span>           (and header
</span></span><span style="display:flex;"><span>            (<span style="color:#a6e22e">concat</span> (<span style="color:#a6e22e">mapconcat</span>
</span></span><span style="display:flex;"><span>                 (lambda (line) (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;#+LATEX_HEADER: &#34;</span> line))
</span></span><span style="display:flex;"><span>                 (org-split-string header <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>                 <span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;\n&#34;</span>)))))
</span></span><span style="display:flex;"><span>    (setq cache-relpath
</span></span><span style="display:flex;"><span>          (<span style="color:#a6e22e">concat</span> (<span style="color:#a6e22e">file-name-as-directory</span> org-preview-latex-image-directory)
</span></span><span style="display:flex;"><span>              (file-name-sans-extension
</span></span><span style="display:flex;"><span>               (<span style="color:#a6e22e">file-name-nondirectory</span> bfn)))
</span></span><span style="display:flex;"><span>          cache-dir (<span style="color:#a6e22e">file-name-directory</span> bfn))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; Re-create LaTeX environment from original buffer in</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; temporary buffer so that dvipng/imagemagick can properly</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">;; turn the fragment into an image.</span>
</span></span><span style="display:flex;"><span>    (setq latex-frag (<span style="color:#a6e22e">concat</span> latex-header latex-frag))))
</span></span><span style="display:flex;"><span>    (with-temp-buffer
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">insert</span> latex-frag)
</span></span><span style="display:flex;"><span>      (org-format-latex cache-relpath <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span> cache-dir <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Creating LaTeX Image...&#34;</span> <span style="color:#66d9ef">nil</span> processing-type)
</span></span><span style="display:flex;"><span>      (<span style="color:#a6e22e">buffer-string</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(setq org-hugo-base-dir <span style="color:#e6db74">&#34;~/orgblog/&#34;</span>)
</span></span></code></pre></div></li>
</ul>
<h4 id="jupyter-in-org">jupyter in org</h4>
<p>For somehow reason, emacs cannot detect my python and need this line to work.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(after! (ob-jupyter)
</span></span><span style="display:flex;"><span>  (org-babel-jupyter-aliases-from-kernelspecs))
</span></span></code></pre></div><h4 id="org-noter">org-noter</h4>
<!--list-separator-->
<ul>
<li>
<p>nov and djvu package</p>
<p>These packages are required for unknown reasons. Install to avoid repeating warning</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! nov)
</span></span><span style="display:flex;"><span>(package! djvu)
</span></span></code></pre></div></li>
</ul>
<h4 id="org-download-dir">org-download-dir</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq-default org-download-image-dir )
</span></span></code></pre></div><h3 id="sagemath">SageMath</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! sage-shell-mode)
</span></span><span style="display:flex;"><span>(package! ob-sagemath)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(use-package! ob-sagemath <span style="color:#75715e">;; Ob-sagemath supports only evaluating with a session.</span>
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (setq org-babel-default-header-args:sage <span style="color:#f92672">&#39;</span>((:session <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>                                             (:results <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;output&#34;</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; C-c c for asynchronous evaluating (only for SageMath code blocks).</span>
</span></span><span style="display:flex;"><span>  (with-eval-after-load <span style="color:#e6db74">&#34;org&#34;</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">define-key</span> org-mode-map (kbd <span style="color:#e6db74">&#34;C-c c&#34;</span>) <span style="color:#e6db74">&#39;ob-sagemath-execute-async</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Do not confirm before evaluation</span>
</span></span><span style="display:flex;"><span>  (setq org-confirm-babel-evaluate <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Do not evaluate code blocks when exporting.</span>
</span></span><span style="display:flex;"><span>  (setq org-export-babel-evaluate <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Show images when opening a file.</span>
</span></span><span style="display:flex;"><span>  (setq org-startup-with-inline-images <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Set sage root</span>
</span></span><span style="display:flex;"><span>  (setq sage-shell:sage-root <span style="color:#e6db74">&#34;~/miniforge3/envs/sage/bin&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Show images after evaluating code blocks.</span>
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;org-babel-after-execute-hook</span> <span style="color:#e6db74">&#39;org-display-inline-images</span>))
</span></span></code></pre></div><h2 id="edit">Edit</h2>
<h3 id="yasnippet-auto-expand">Yasnippet auto-expand</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#75715e">;; Function that tries to autoexpand YaSnippets</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; The double quoting is NOT a typo!</span>
</span></span><span style="display:flex;"><span>(defun my/yas-try-expanding-auto-snippets ()
</span></span><span style="display:flex;"><span>  (when (and (<span style="color:#a6e22e">boundp</span> <span style="color:#e6db74">&#39;yas-minor-mode</span>) yas-minor-mode)
</span></span><span style="display:flex;"><span>    (let ((yas-buffer-local-condition <span style="color:#f92672">&#39;&#39;</span>(require-snippet-condition <span style="color:#f92672">.</span> auto)))
</span></span><span style="display:flex;"><span>      (yas-expand))))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Try after every insertion</span>
</span></span><span style="display:flex;"><span>(add-hook <span style="color:#e6db74">&#39;post-self-insert-hook</span> <span style="color:#a6e22e">#&#39;</span>my/yas-try-expanding-auto-snippets)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;warning-suppress-types</span> <span style="color:#f92672">&#39;</span>(yasnippet backquote-change))
</span></span></code></pre></div><h3 id="file-templates-dir">File-templates dir</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq +file-templates-dir <span style="color:#e6db74">&#34;~/.config/doom/file-templates/&#34;</span>)
</span></span></code></pre></div><h2 id="programming">Programming</h2>
<h3 id="vterm">vterm</h3>
<h4 id="default-shell">default shell</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(setq shell-file-name (executable-find <span style="color:#e6db74">&#34;bash&#34;</span>))
</span></span><span style="display:flex;"><span>(setq-default vterm-shell (executable-find <span style="color:#e6db74">&#34;fish&#34;</span>))
</span></span></code></pre></div><h3 id="quickrun">Quickrun</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(map! :after evil :desc <span style="color:#e6db74">&#34;quickrun&#34;</span> :n <span style="color:#e6db74">&#34;&lt;f1&gt;&#34;</span> <span style="color:#a6e22e">#&#39;</span>quickrun)
</span></span></code></pre></div><h3 id="tabnine">Tabnine</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(package! tabnine)
</span></span><span style="display:flex;"><span>(package! tabnine-capf
</span></span><span style="display:flex;"><span>  :recipe (:host github :repo <span style="color:#e6db74">&#34;50ways2sayhard/tabnine-capf&#34;</span> :files (<span style="color:#e6db74">&#34;*.el&#34;</span> <span style="color:#e6db74">&#34;*.sh&#34;</span>)))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(use-package! tabnine
</span></span><span style="display:flex;"><span>  :hook (((prog-mode vterm-mode)<span style="color:#f92672">.</span> tabnine-mode)
</span></span><span style="display:flex;"><span>	 (<span style="color:#a6e22e">kill-emacs</span> <span style="color:#f92672">.</span> tabnine-kill-process))
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (add-to-list <span style="color:#e6db74">&#39;completion-at-point-functions</span> <span style="color:#a6e22e">#&#39;</span>tabnine-completion-at-point)
</span></span><span style="display:flex;"><span>  (tabnine-start-process)
</span></span><span style="display:flex;"><span>  :bind
</span></span><span style="display:flex;"><span>  (:map  tabnine-completion-map
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;&lt;tab&gt;&#34;</span> <span style="color:#f92672">.</span> tabnine-accept-completion)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;TAB&#34;</span> <span style="color:#f92672">.</span> tabnine-accept-completion)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;M-f&#34;</span> <span style="color:#f92672">.</span> tabnine-accept-completion-by-word)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;M-&lt;return&gt;&#34;</span> <span style="color:#f92672">.</span> tabnine-accept-completion-by-line)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;C-g&#34;</span> <span style="color:#f92672">.</span> tabnine-clear-overlay)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;M-[&#34;</span> <span style="color:#f92672">.</span> tabnine-previous-completion)
</span></span><span style="display:flex;"><span>	(<span style="color:#e6db74">&#34;M-]&#34;</span> <span style="color:#f92672">.</span> tabnine-next-completion))
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(when (<span style="color:#a6e22e">fboundp</span> <span style="color:#a6e22e">#&#39;</span>tabnine-completion-at-point)
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;lsp-completion-mode-hook</span>
</span></span><span style="display:flex;"><span>            (defun lsp-capf ()
</span></span><span style="display:flex;"><span>              (remove-hook <span style="color:#e6db74">&#39;completion-at-point-functions</span> <span style="color:#a6e22e">#&#39;</span>lsp-completion-at-point <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>              (add-hook <span style="color:#e6db74">&#39;completion-at-point-functions</span>
</span></span><span style="display:flex;"><span>                        (cape-capf-super
</span></span><span style="display:flex;"><span>                         <span style="color:#a6e22e">#&#39;</span>lsp-completion-at-point
</span></span><span style="display:flex;"><span>                         <span style="color:#a6e22e">#&#39;</span>tabnine-completion-at-point) <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(use-package tabnine-capf
</span></span><span style="display:flex;"><span>  :after cape
</span></span><span style="display:flex;"><span>  :hook (<span style="color:#a6e22e">kill-emacs</span> <span style="color:#f92672">.</span> tabnine-capf-kill-process)
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (add-to-list <span style="color:#e6db74">&#39;completion-at-point-functions</span> <span style="color:#a6e22e">#&#39;</span>tabnine-completion-at-point))
</span></span></code></pre></div><h3 id="stick-scroll">Stick scroll</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;semantic-default-submodes</span> <span style="color:#e6db74">&#39;global-semantic-stickyfunc-mode</span>)
</span></span><span style="display:flex;"><span>(add-hook! <span style="color:#e6db74">&#39;prog-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>semantic-mode)
</span></span></code></pre></div>
      </article>

      




    </div>
  </div>
</div>

  </main>
  <footer class="flex flex-none justify-center">
    <section class="flex flex-col md:flex-row mx-2 md:mx-0 gap-2 md:gap-0 justify-between w-full max-w-4xl lg:max-w-5xl py-6 text-slate-500 dark:text-slate-300">
  <div class="flex flex-row">
    
  
  
  
  
  
  
  
  
  
  
  


  </div>
  <div class="grow"></div>
  <div class="flex flex-row">
    <i class="h-6 w-6 flex-none"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
   <path d="M14 9.75a3.016 3.016 0 0 0 -4.163 .173a2.993 2.993 0 0 0 0 4.154a3.016 3.016 0 0 0 4.163 .173"></path>
</svg>
</i> 2023 - 2024 
    
  </div>
  
  <div class="flex flex-row">
    <span class="ml-0 pl-0 md:ml-2 md:pl-2 border-l-0 md:border-l border-slate-300 dark:border-slate-400">
      Powered by <a href="https://gohugo.io" target="_blank" rel="noopener" class="underline">Hugo</a> <span class="text-red-600">&hearts;</span> <a href="https://github.com/tomowang/hugo-theme-tailwind" target="_blank" rel="noopener" class="underline">Tailwind</a>
    </span>
  </div>
  
</section>

  </footer>
  <script src="/Seinichts/seinichts.github.io/main.js"></script>

<div class="hidden top-1 right-1" id="code-copy">
  <i class="h-6 w-6 block">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
  <path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" />
</svg>

  </i>
</div>
<div class="hidden top-1 right-1" id="code-copy-done">
  <i class="h-6 w-6 block">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M5 12l5 5l10 -10" />
</svg>

  </i>
</div><script src="/Seinichts/seinichts.github.io/code-copy.js"></script>





</body>
</html>
